| Given | When | Then |
|-------|------|------|
| A valid store ID (123), existing ESL barcode ("ESL123"), deactivate reason (1 for Missing), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} to deactivate the ESL | - Response status code is 200<br>- Response body contains success message<br>- ESL is correctly deactivated in the system with reason "Missing" |
| A valid store ID (123), existing ESL barcode ("ESL123"), deactivate reason (2 for Broken), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} to deactivate the ESL | - Response status code is 200<br>- Response body contains success message<br>- ESL is correctly deactivated in the system with reason "Broken" |
| A valid store ID (123), non-existent ESL barcode ("NONEXISTENT"), deactivate reason (1), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} | - Response status code is 404<br>- Response body contains error message about non-existent ESL |
| An invalid store ID (-1), valid ESL barcode ("ESL123"), deactivate reason (1), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid store ID |
| A valid store ID (123), existing ESL barcode ("ESL123"), invalid deactivate reason (3), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid deactivate reason |
| A valid store ID (123), existing ESL barcode ("ESL123"), valid deactivate reason (1), and invalid userID ("") | A DELETE request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid user ID |
| A valid store ID (123), existing ESL barcode ("ESL123") that is already deactivated, valid deactivate reason (1), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} to deactivate an already deactivated ESL | - Response status code is 400<br>- Response body contains error message about ESL already being deactivated |
| A valid store ID (123), existing ESL barcode ("ESL123") associated with an item, valid deactivate reason (1), and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} to deactivate an associated ESL | - Response status code is 200<br>- Response body contains success message<br>- ESL is correctly deactivated in the system<br>- Any existing associations are removed |
| A valid store ID (123), existing ESL barcode ("ESL123"), no deactivate reason provided, and valid userID ("user1") | A DELETE request is made to /sign/esl/{store} without specifying a reason | - Response status code is 400<br>- Response body contains error message about missing deactivate reason |
