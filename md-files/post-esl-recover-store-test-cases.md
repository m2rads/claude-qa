| Given | When | Then |
|-------|------|------|
| A valid store ID (123) and reassociateTags=false | A POST request is made to /sign/esl/Recover/{store} | - Response status code is 200<br>- Response body indicates successful recovery initiation<br>- Only the images are resent to the tags<br>- The process completes relatively quickly |
| A valid store ID (123) and reassociateTags=true | A POST request is made to /sign/esl/Recover/{store} | - Response status code is 200<br>- Response body indicates successful recovery initiation<br>- Images are resent and tags are re-associated<br>- The process takes significantly longer than with reassociateTags=false |
| An invalid store ID (-1) and reassociateTags=false | A POST request is made to /sign/esl/Recover/-1 | - Response status code is 400<br>- Response body contains an error message about invalid store ID |
| A non-existent store ID (999) and reassociateTags=false | A POST request is made to /sign/esl/Recover/999 | - Response status code is 404<br>- Response body contains an error message about non-existent store |
| A valid store ID (123) without specifying reassociateTags | A POST request is made to /sign/esl/Recover/{store} without the reassociateTags parameter | - Response status code is 200<br>- Response body indicates successful recovery initiation<br>- Only the images are resent (default behavior) |
| A valid store ID (123) and reassociateTags=true, but no tags need re-association | A POST request is made to /sign/esl/Recover/{store} | - Response status code is 200<br>- Response body indicates successful recovery<br>- The process completes faster than a typical reassociation scenario |
| A valid store ID (123) and reassociateTags=false, immediately followed by another recovery request | Two consecutive POST requests are made to /sign/esl/Recover/{store} | - Both responses have status code 200<br>- The second request either queues the operation or returns a message about an ongoing recovery process |
| A valid store ID (123) and reassociateTags=true, but the Pricer database is corrupted | A POST request is made to /sign/esl/Recover/{store} | - Response status code is 500<br>- Response body indicates failure due to database corruption<br>- No changes are made to the existing tag associations |
| The user does not have proper authentication | A POST request is made to /sign/esl/Recover/{store} without proper authentication | - Response status code is 401 (Unauthorized)<br>- Response body contains an error message about lacking proper authentication |
| The user does not have proper authorization for the specified store | An authenticated POST request is made to /sign/esl/Recover/{store} without proper authorization | - Response status code is 403 (Forbidden)<br>- Response body contains an error message about lacking proper authorization |
