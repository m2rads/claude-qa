| Given | When | Then |
|-------|------|------|
| A valid store ID (123), existing ESL barcode ("ESL123"), operation "PAIR", valid userID ("user1"), existing itemID ("ITEM001"), and valid template | A POST request is made to /sign/esl/{store} to associate the ESL | - Response status code is 200<br>- Response body contains success message<br>- ESL is correctly associated with the item in the system |
| A valid store ID (123), existing ESL barcode ("ESL123"), operation "UNPAIR", valid userID ("user1"), and previously associated itemID ("ITEM001") | A POST request is made to /sign/esl/{store} to unassociate the ESL | - Response status code is 200<br>- Response body contains success message<br>- ESL is correctly unassociated from the item in the system |
| A valid store ID (123), non-existent ESL barcode ("NONEXISTENT"), operation "PAIR", valid userID ("user1"), and valid itemID ("ITEM001") | A POST request is made to /sign/esl/{store} | - Response status code is 404<br>- Response body contains error message about non-existent ESL |
| An invalid store ID (-1), valid ESL barcode ("ESL123"), operation "PAIR", valid userID ("user1"), and valid itemID ("ITEM001") | A POST request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid store ID |
| A valid store ID (123), existing ESL barcode ("ESL123"), invalid operation ("INVALID_OP"), valid userID ("user1"), and valid itemID ("ITEM001") | A POST request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid operation |
| A valid store ID (123), existing ESL barcode ("ESL123"), operation "PAIR", valid userID ("user1"), non-existent itemID ("NONEXISTENT_ITEM") | A POST request is made to /sign/esl/{store} | - Response status code is 404<br>- Response body contains error message about non-existent item |
| A valid store ID (123), existing ESL barcode ("ESL123"), operation "PAIR", invalid userID (""), valid itemID ("ITEM001") | A POST request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid user ID |
| A valid store ID (123), existing ESL barcode ("ESL123"), operation "PAIR", valid userID ("user1"), valid itemID ("ITEM001"), invalid template | A POST request is made to /sign/esl/{store} | - Response status code is 400<br>- Response body contains error message about invalid template |
| A valid store ID (123), existing ESL barcode ("ESL123") already associated with an item, operation "PAIR", valid userID ("user1"), new valid itemID ("ITEM002") | A POST request is made to /sign/esl/{store} to associate the ESL with a new item | - Response status code is 200<br>- Response body contains success message<br>- ESL is correctly associated with the new item in the system<br>- Old association is removed |
